# E-ì»¤ë¨¸ìŠ¤ ì„œë¹„ìŠ¤ ERD

**ğŸ“š ë¬¸ì„œ ëª©ë¡**

+ [1ï¸âƒ£ ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë¬¸ì„œ](01.Requirements.md)
+ [2ï¸âƒ£ ë§ˆì¼ìŠ¤í†¤ ë¬¸ì„œ](02.Milestones.md)
+ [3ï¸âƒ£ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ë¬¸ì„œ](03.SequenceDiagram.md)
+ [4ï¸âƒ£ ERD ë¬¸ì„œ](04.ERD.md)
+ [5ï¸âƒ£ API ëª…ì„¸](05.ApiDocument.md)

---

## ERD ì‘ì„±
```mermaid
erDiagram
    USER ||--o| BALANCE : has
    USER ||--o{ USER_COUPON: owns
    USER ||--o{ ORDERS: ordered
    COUPON ||--o{ USER_COUPON: issued
    USER_COUPON ||--o{ ORDERS: used
    ORDERS ||--|{ ORDER_PRODUCT: has
    PRODUCT ||--o{ ORDER_PRODUCT: ordered
    ORDER_PRODUCT ||--o{ ORDER_PRODUCT_STATS: aggregated

    USER {
        BIGINT user_id PK "ì‚¬ìš©ì ID"
        VARCHAR nickname "ë‹‰ë„¤ì„"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

    BALANCE {
        BIGINT user_id PK "ì‚¬ìš©ì ID"
        BIGINT amount "ì”ê³  ê¸ˆì•¡"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

    COUPON {
        BIGINT coupon_id PK "ì¿ í° ID"
        VARCHAR name "ì´ë¦„"
        FLOAT discount_rate "í• ì¸ìœ¨"
        TIMESTAMP expired_at "ë§Œë£Œì¼ì‹œ"
        INT quantity "ìˆ˜ëŸ‰"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

    USER_COUPON {
        BIGINT user_coupon_id PK "ì‚¬ìš©ì ì¿ í° ID"
        BIGINT user_id FK "ì‚¬ìš©ì ID"
        BIGINT coupon_id FK "ì¿ í° ID"
        VARCHAR coupon_status "ì¿ í° ìƒíƒœ"
        TIMESTAMP issued_at "ë°œê¸‰ì¼ì‹œ"
        TIMESTAMP used_at "ì‚¬ìš©ì¼ì‹œ"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

    PRODUCT {
        BIGINT product_id PK "ìƒí’ˆ ID"
        VARCHAR name "ì´ë¦„"
        BIGINT price "ê°€ê²©"
        INT stock "ì¬ê³  ìˆ˜"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

    ORDERS {
        BIGINT order_id PK "ì£¼ë¬¸ ID"
        BIGINT user_id FK "ì‚¬ìš©ì ID"
        BIGINT user_coupon_id FK "ì‚¬ìš©ì ì¿ í° ID"
        BIGINT total_price "ì£¼ë¬¸ ì´ ê¸ˆì•¡"
        BIGINT discount_price "í• ì¸ ê¸ˆì•¡"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

    ORDER_PRODUCT {
        BIGINT order_product_id PK "ì£¼ë¬¸ ìƒí’ˆ ID"
        BIGINT order_id FK "ì£¼ë¬¸ ID"
        BIGINT product_id FK "ìƒí’ˆ ID"
        INT quantity "ìƒí’ˆ ê°œìˆ˜"
        BIGINT unit_price "ìƒí’ˆ ë‹¨ê°€ ê¸ˆì•¡"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

    ORDER_PRODUCT_STATS {
        BIGINT product_id PK "ìƒí’ˆ ID"
        DATE stat_date PK "í†µê³„ ì¼ì"
        INT sale_count "íŒë§¤ ê°œìˆ˜"
        TIMESTAMP created_at "ìƒì„±ì¼ì‹œ"
        TIMESTAMP updated_at "ìˆ˜ì •ì¼ì‹œ"
    }

```